<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>áƒ™áƒáƒ˜áƒ¤áƒ›áƒáƒœáƒ˜áƒ</title>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<style>
body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:radial-gradient(circle,#330000 0%,#000 70%);
font-family:Arial;
}

.card-wrapper{
position:relative;
width:350px;
}

.card-wrapper::before{
content:"";
position:absolute;
inset:0;
background:red;
border-radius:30px;
transform:rotate(-4deg);
box-shadow:0 0 80px red;
z-index:0;
}

.card{
position:relative;
background:#0d0d0d;
padding:40px 25px;
border-radius:30px;
transform:rotate(-2deg);
z-index:1;
text-align:center;
}

h1{
color:white;
text-shadow:0 0 20px red;
margin-bottom:25px;
}

input{
width:100%;
padding:12px;
margin-bottom:15px;
border-radius:12px;
border:none;
background:#1a1a1a;
color:white;
}

button{
width:100%;
padding:14px;
border:none;
border-radius:20px;
background:red;
color:white;
font-weight:bold;
margin-bottom:12px;
cursor:pointer;
font-size:16px;
}

button:hover{
background:darkred;
}

.hidden{
display:none;
}

#message{
color:white;
margin-top:10px;
}
</style>
</head>
<body>

<div class="card-wrapper">
<div class="card">

<h1>áƒ™áƒáƒ˜áƒ¤áƒ›áƒáƒœáƒ˜áƒ ğŸ˜ğŸ”¥</h1>

<div id="mainButtons">
<button onclick="showRegister()">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</button>
<button onclick="showLogin()">áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</button>
</div>

<div id="formSection" class="hidden">
<input type="text" id="nickname" placeholder="áƒœáƒ˜áƒ™áƒœáƒ”áƒ˜áƒ›áƒ˜">
<input type="email" id="email" placeholder="áƒ”áƒšáƒ¤áƒáƒ¡áƒ¢áƒ">
<input type="password" id="password" placeholder="áƒáƒáƒ áƒáƒšáƒ˜">
<button id="submitBtn"></button>
</div>

<p id="message"></p>

</div>
</div>

<script>

const { createClient } = supabase;

const supabaseClient = createClient(
  "https://ftfciebnywbondaiarnc.supabase.co",
  "sb_publishable_eQZDSu_Jy1gWmXJFF800Pw_TP2kBRLI"
);

function showRegister(){
document.getElementById("mainButtons").classList.add("hidden");
document.getElementById("formSection").classList.remove("hidden");
document.getElementById("nickname").style.display="block";
document.getElementById("submitBtn").innerText="áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ";
document.getElementById("submitBtn").onclick=register;
}

function showLogin(){
document.getElementById("mainButtons").classList.add("hidden");
document.getElementById("formSection").classList.remove("hidden");
document.getElementById("nickname").style.display="none";
document.getElementById("submitBtn").innerText="áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ";
document.getElementById("submitBtn").onclick=login;
}

async function register(){
const nickname=document.getElementById("nickname").value;
const email=document.getElementById("email").value;
const password=document.getElementById("password").value;

if(!nickname || !email || !password){
document.getElementById("message").innerText="áƒ¨áƒ”áƒáƒ•áƒ¡áƒ” áƒ§áƒ•áƒ”áƒšáƒ áƒ•áƒ”áƒšáƒ˜";
return;
}

const { data, error } = await supabaseClient.auth.signUp({
  email: email,
  password: password
});

if(error){
document.getElementById("message").innerText=error.message;
return;
}

document.getElementById("message").innerText="áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!";
}

async function login(){
const email=document.getElementById("email").value;
const password=document.getElementById("password").value;

const { data, error } = await supabaseClient.auth.signInWithPassword({
  email: email,
  password: password
});

if(error){
document.getElementById("message").innerText=error.message;
return;
}

document.getElementById("message").innerText="áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!";
}

</script>

</body>
</html>
