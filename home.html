<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>áƒ™áƒáƒ˜áƒ¤áƒ›áƒáƒœáƒ˜áƒ</title>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<style>
body{
margin:0;
font-family:Arial;
background:radial-gradient(circle,#330000 0%,#000 70%);
color:white;
text-align:center;
}

header{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 20px;
background:#111;
}

#nickname{
font-weight:bold;
color:#ff3c3c;
}

.logout{
background:red;
border:none;
padding:8px 14px;
border-radius:10px;
color:white;
cursor:pointer;
}

.rooms{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:15px;
padding:20px;
}

.room{
background:#1a1a1a;
padding:20px;
border-radius:15px;
cursor:pointer;
transition:0.3s;
}

.room:hover{
background:#330000;
}
</style>
</head>
<body>

<header>
<div>áƒ™áƒáƒ˜áƒ¤áƒ›áƒáƒœáƒ˜áƒ ğŸ˜ğŸ”¥</div>
<div id="nickname">...</div>
<button class="logout" onclick="logout()">áƒ’áƒáƒ¡áƒ•áƒšáƒ</button>
</header>

<div class="rooms">

<div class="room">ğŸ’¬ áƒ–áƒáƒ’áƒáƒ“áƒ˜ áƒ©áƒáƒ¢áƒ˜</div>
<div class="room">ğŸ” áƒ¨áƒ˜áƒ¤áƒ áƒáƒ’áƒ áƒáƒ›áƒ</div>
<div class="room">ğŸ§  áƒ•áƒ˜áƒ¥áƒ¢áƒáƒ áƒ˜áƒœáƒ</div>
<div class="room">ğŸª“ áƒ©áƒáƒ›áƒáƒ®áƒ áƒ©áƒáƒ‘áƒáƒœáƒ</div>
<div class="room">ğŸ“¢ áƒ¤áƒáƒ áƒ£áƒ›áƒ˜</div>
<div class="room">ğŸ”« áƒ˜áƒáƒ áƒáƒ¦áƒ˜áƒ¡ áƒáƒ—áƒáƒ®áƒ˜</div>
<div class="room">ğŸ‘‘ áƒ•áƒ˜áƒ áƒ¡áƒáƒ£áƒ‘áƒ áƒ”áƒ‘áƒ˜</div>
<div class="room">ğŸµ áƒ›áƒ£áƒ¡áƒ˜áƒ™áƒ</div>
<div class="room">ğŸ–¼ áƒ’áƒáƒšáƒ”áƒ áƒ”áƒ</div>
<div class="room">ğŸ˜‚ áƒ˜áƒ£áƒ›áƒáƒ áƒ˜</div>
<div class="room">â“ áƒ“áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ</div>

</div>

<script>

const { createClient } = supabase;

const supabaseClient = createClient(
  "https://ftfciebnywbondaiarnc.supabase.co",
  "sb_publishable_eQZDSu_Jy1gWmXJFF800Pw_TP2kBRLI"
);

async function loadUser(){
  const { data } = await supabaseClient.auth.getUser();

  if(!data.user){
    window.location.href = "index.html";
    return;
  }

  const user = data.user;

  const nickname =
    user.user_metadata?.nickname ||
    "áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜";

  const nickElement = document.getElementById("nickname");
  if(nickElement){
    nickElement.innerText = nickname;
  }
}

async function logout(){
  await supabaseClient.auth.signOut();
  window.location.href = "index.html";
}

loadUser();

</script>

</body>
</html>
