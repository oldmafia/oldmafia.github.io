<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Old Mafia</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

html,body{
height:100%;
font-family:Arial, sans-serif;
background:#1a0000;
color:white;
overflow:hidden;
}

.wrapper{
display:flex;
height:100%;
}

/* SIDEBAR */
.sidebar{
width:210px;
background:#2b0000;
padding:15px 10px;
display:flex;
flex-direction:column;
gap:10px;
overflow-y:auto;
flex-shrink:0;
}

.room{
padding:12px;
border-radius:14px;
background:#3b0000;
cursor:pointer;
font-size:14px;
transition:0.2s;
}

.room:hover{background:#550000;}
.room.active{background:#ff1a1a;}

/* MAIN */
.main{
flex:1;
display:flex;
flex-direction:column;
padding:15px;
min-width:0;
}

.topbar{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:10px;
}

.room-title{
color:#ff2e2e;
font-weight:bold;
font-size:18px;
}

.top-icons{
display:flex;
gap:10px;
}

.icon-btn{
width:36px;
height:36px;
border:none;
border-radius:10px;
background:#3b0000;
color:white;
cursor:pointer;
}

/* CHAT */
.chat-box{
flex:1;
background:#111;
border-radius:25px;
display:flex;
flex-direction:column;
overflow:hidden;
}

.chat{
flex:1;
padding:15px;
overflow-y:auto;
}

.message{
background:#2a2a2a;
padding:10px 14px;
border-radius:18px;
margin-bottom:10px;
max-width:75%;
}

.nickname{
color:#ff4d4d;
font-size:12px;
margin-bottom:4px;
}

/* INPUT */
.input-area{
display:flex;
align-items:center;
gap:6px;
padding:10px;
background:#220000;
}

.emoji-btn{
width:38px;
height:38px;
border:none;
border-radius:10px;
background:#3b0000;
color:white;
cursor:pointer;
flex-shrink:0;
}

.input-area input{
flex:1;
min-width:0;
height:38px;
border:none;
border-radius:14px;
background:#1e1e1e;
color:white;
padding:0 10px;
}

.send-btn{
width:85px;
height:38px;
border:none;
border-radius:14px;
background:#ff1a1a;
color:white;
font-weight:bold;
cursor:pointer;
flex-shrink:0;
}

@media (max-width:768px){
.sidebar{width:155px;}
.send-btn{width:75px;font-size:13px;}
}
</style>
</head>
<body>

<div class="wrapper">

<div class="sidebar" id="roomList"></div>

<div class="main">

<div class="topbar">
<div class="room-title" id="roomTitle">üí¨ ·Éñ·Éù·Éí·Éê·Éì·Éò ·É©·Éê·É¢·Éò</div>
<div class="top-icons">
<button class="icon-btn">‚úâÔ∏è</button>
<button class="icon-btn">üë§</button>
</div>
</div>

<div class="chat-box">
<div class="chat" id="chat"></div>

<div class="input-area">
<button class="emoji-btn" onclick="addEmoji()">üòä</button>
<input type="text" id="msgInput" placeholder="·Éì·Éê·É¨·Éî·É†·Éî ·Éõ·Éî·É°·Éò·ÉØ·Éò...">
<button class="send-btn" onclick="sendMessage()">·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éê</button>
</div>
</div>

</div>
</div>

<script>

let nickname = localStorage.getItem("nickname") || "Guest";

let rooms = {
"üí¨ ·Éñ·Éù·Éí·Éê·Éì·Éò ·É©·Éê·É¢·Éò": [],
"üíé VIP ·É°·Éê·É£·Éë·É†·Éî·Éë·Éò": [],
"üîê ·É®·Éò·É§·É†·Éù·Éí·É†·Éê·Éõ·Éê": [],
"ü™¢ ·É©·Éê·Éõ·Éù·ÉÆ·É†·É©·Éù·Éë·Éê·Éú·Éê": [],
"üß† ·Éï·Éò·É•·É¢·Éù·É†·Éò·Éú·Éê": [],
"üìú ·É§·Éù·É†·É£·Éõ·Éò": [],
"üÜò ·Éì·Éê·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê": [],
"üî´ ·Éò·Éê·É†·Éê·É¶·Éò·É° ·Éù·Éó·Éê·ÉÆ·Éò": [],
"üòÇ ·Éò·É£·Éõ·Éù·É†·Éò": [],
"üéµ ·Éõ·É£·É°·Éò·Éô·Éê": [],
"üì∏ ·Éí·Éê·Éö·Éî·É†·Éî·Éê": []
};

let currentRoom = "üí¨ ·Éñ·Éù·Éí·Éê·Éì·Éò ·É©·Éê·É¢·Éò";

const roomList = document.getElementById("roomList");
const chat = document.getElementById("chat");
const roomTitle = document.getElementById("roomTitle");

function renderRooms(){
roomList.innerHTML="";
Object.keys(rooms).forEach(room=>{
let div=document.createElement("div");
div.className="room";
if(room===currentRoom) div.classList.add("active");
div.innerText=room;
div.onclick=()=>changeRoom(room);
roomList.appendChild(div);
});
}

function changeRoom(room){
currentRoom=room;
roomTitle.innerText=room;
renderRooms();
renderMessages();
}

function renderMessages(){
chat.innerHTML="";
rooms[currentRoom].forEach(msg=>{
let div=document.createElement("div");
div.className="message";

let name=document.createElement("div");
name.className="nickname";
name.innerText=msg.name;

let text=document.createElement("div");
text.innerText=msg.text;

div.appendChild(name);
div.appendChild(text);
chat.appendChild(div);
});
chat.scrollTop=chat.scrollHeight;
}

function sendMessage(){
let input=document.getElementById("msgInput");
let text=input.value.trim();
if(!text) return;

rooms[currentRoom].push({
name:nickname,
text:text
});

input.value="";
renderMessages();
}

function addEmoji(){
document.getElementById("msgInput").value+="üòä";
}

renderRooms();
renderMessages();

</script>

</body>
</html>
