<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Old Mafia</title>

<style>
*{
box-sizing:border-box;
margin:0;
padding:0;
}

body{
font-family:Arial, sans-serif;
background:#1a0000;
color:white;
display:flex;
height:100dvh;
}

/* SIDEBAR */
.sidebar{
width:180px;
background:#240000;
padding:15px 10px;
display:flex;
flex-direction:column;
gap:8px;
}

.room{
padding:10px;
border-radius:14px;
cursor:pointer;
background:#330000;
transition:0.2s;
font-size:13px;
text-align:center;
}

.room:hover{
background:#550000;
}

.room.active{
background:#ff1a1a;
}

/* MAIN */
.main{
flex:1;
display:flex;
flex-direction:column;
align-items:center;
padding:15px;
}

/* TOPBAR */
.topbar{
width:100%;
max-width:700px;
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:10px;
}

.room-title{
font-weight:bold;
font-size:16px;
color:#ff3b3b;
}

/* ICON BUTTONS */
.icon-btn{
width:36px;
height:36px;
background:#330000;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
transition:0.2s;
}

.icon-btn:hover{
background:#ff1a1a;
}

.icons{
display:flex;
gap:10px;
}

/* CHAT CONTAINER */
.chat-container{
width:100%;
max-width:700px;
background:#0f0f14;
border-radius:20px;
display:flex;
flex-direction:column;
overflow:hidden;
flex:1;
}

/* CHAT AREA */
.chat{
flex:1;
padding:15px;
overflow-y:auto;
display:flex;
flex-direction:column;
gap:10px;
}

.message{
background:#2a2a35;
padding:10px 14px;
border-radius:16px;
max-width:75%;
font-size:13px;
word-wrap:break-word;
}

/* INPUT */
.input-area{
display:flex;
padding:10px;
background:#140000;
gap:8px;
}

.input-area input{
flex:1;
padding:10px;
border:none;
border-radius:12px;
background:#1e1e24;
color:white;
font-size:13px;
outline:none;
}

.input-area button{
padding:10px 16px;
border:none;
border-radius:12px;
background:#ff1a1a;
color:white;
font-weight:bold;
cursor:pointer;
}

/* MOBILE */
@media(max-width:768px){
.sidebar{
width:90px;
}

.room{
font-size:11px;
padding:8px 4px;
}
}
</style>
</head>
<body>

<div class="sidebar">
<div class="room active" onclick="changeRoom(this,'ğŸ’¬ áƒ–áƒáƒ’áƒáƒ“áƒ˜ áƒ©áƒáƒ¢áƒ˜')">ğŸ’¬ áƒ©áƒáƒ¢áƒ˜</div>
<div class="room" onclick="changeRoom(this,'ğŸ˜‚ áƒ˜áƒ£áƒ›áƒáƒ áƒ˜')">ğŸ˜‚ áƒ˜áƒ£áƒ›áƒáƒ áƒ˜</div>
<div class="room" onclick="changeRoom(this,'ğŸµ áƒ›áƒ£áƒ¡áƒ˜áƒ™áƒ')">ğŸµ áƒ›áƒ£áƒ¡áƒ˜áƒ™áƒ</div>
<div class="room" onclick="changeRoom(this,'ğŸ“¸ áƒ’áƒáƒšáƒ”áƒ áƒ”áƒ')">ğŸ“¸ áƒ’áƒáƒšáƒ”áƒ áƒ”áƒ</div>
<div class="room" onclick="changeRoom(this,'ğŸ’ VIP')">ğŸ’ VIP</div>
</div>

<div class="main">

<div class="topbar">
<div class="room-title" id="roomTitle">ğŸ’¬ áƒ–áƒáƒ’áƒáƒ“áƒ˜ áƒ©áƒáƒ¢áƒ˜</div>
<div class="icons">
<div class="icon-btn" onclick="openPrivate()">âœ‰ï¸</div>
<div class="icon-btn" onclick="openProfile()">ğŸ‘¤</div>
</div>
</div>

<div class="chat-container">
<div class="chat" id="chat"></div>

<div class="input-area">
<input type="text" id="msgInput" placeholder="áƒ“áƒáƒ¬áƒ”áƒ áƒ” áƒ›áƒ”áƒ¡áƒ˜áƒ¯áƒ˜...">
<button onclick="sendMessage()">áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ</button>
</div>
</div>

</div>

<script>
const user = JSON.parse(localStorage.getItem("currentUser"));
if(!user){
window.location.href="index.html";
}

function changeRoom(element, room){
document.querySelectorAll(".room").forEach(r=>r.classList.remove("active"));
element.classList.add("active");
document.getElementById("roomTitle").innerText = room;
document.getElementById("chat").innerHTML="";
}

function openPrivate(){
document.getElementById("roomTitle").innerText = "âœ‰ï¸ áƒáƒ˜áƒ áƒáƒ“áƒ˜ áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜";
document.getElementById("chat").innerHTML="";
document.querySelectorAll(".room").forEach(r=>r.classList.remove("active"));
}

function openProfile(){
window.location.href="profile.html";
}

function sendMessage(){
let input = document.getElementById("msgInput");
if(input.value.trim()==="") return;

let msgDiv = document.createElement("div");
msgDiv.className="message";
msgDiv.innerText = user.nickname + ": " + input.value;

document.getElementById("chat").appendChild(msgDiv);
input.value="";
}
</script>

</body>
</html>
